
------ customers

CREATE TABLE IF NOT EXISTS CUSTOMERS 
(Cust_id INTEGER PRIMARY KEY AUTOINCREMENT ,
 First_name VARCHAR(30) ,
 Last_name VARCHAR(30) ,
 Phone NUMERIC(10) ,
 Email VARCHAR(30) , City VARCHAR(30) );

 ----- shop

CREATE TABLE IF NOT EXISTS STORES 
(Store_id INTEGER PRIMARY KEY AUTOINCREMENT ,
Store_name VARCHAR(30) ,
Phone NUMERIC(10) , 
Street VARCHAR(10) , 
City VARCHAR(30) );

------ staff (this is excluded)

CREATE TABLE IF NOT EXISTS STAFFS
(Staff_id INTEGER PRIMARY KEY AUTOINCREMENT ,
 First_name VARCHAR(30) , Last_name VARCHAR(30) ,
 Phone NUMERIC(10) ,
 Email VARCHAR(30) ,
 Store_id INTEGER UNIQUE,
 Manager_id INTEGER ,
 FOREIGN KEY (Store_id) REFERENCES STORES (Store_id) ON DELETE CASCADE );

 ------ STORES

 CREATE TABLE IF NOT EXISTS ORDERS 
(Order_id INTEGER PRIMARY KEY AUTOINCREMENT ,
 Cust_id INTEGER ,
 Order_status VARCHAR(30) ,
 Order_date DATE ,
 Required_date DATE ,
 Shipped_date DATE ,
 Store_id INTEGER , 
 Staff_id INTEGER , 
 FOREIGN KEY (Cust_id) REFERENCES CUSTOMERS (Cust_id) ON DELETE CASCADE ,
 FOREIGN KEY (Store_id) REFERENCES STORES (Store_id) ON DELETE CASCADE); 

-------order items --------------------------------

CREATE TABLE IF NOT EXISTS ORDER_ITEMS 
(Order_id INTEGER ,
 Item_id INTEGER ,
 Cust_id INTEGER ,
 Product_id INTEGER , 
 Quantity INTEGER ,
 Price SMALLMONEY , 
 PRIMARY KEY ( Order_id, Item_id ) ,
 FOREIGN KEY (Cust_id) REFERENCES CUSTOMERS (Cust_id) )

-------

    // db.run('CREATE TABLE IF NOT EXISTS CUSTOMERS (Cust_id INTEGER PRIMARY KEY AUTOINCREMENT , First_name VARCHAR(30) , Last_name VARCHAR(30) , Phone NUMERIC(10) , Email VARCHAR(30) , City VARCHAR(30) )')
    // .run('CREATE TABLE IF NOT EXISTS STORES (Store_id INTEGER PRIMARY KEY AUTOINCREMENT , Store_name VARCHAR(30) , Phone NUMERIC(10) , Street VARCHAR(10) , City VARCHAR(30) )')
    // .run('CREATE TABLE IF NOT EXISTS STAFFS (Staff_id INTEGER PRIMARY KEY AUTOINCREMENT , First_name VARCHAR(30) , Last_name VARCHAR(30) , Phone NUMERIC(10) , Email VARCHAR(30) , Store_id INTEGER UNIQUE, Manager_id INTEGER , FOREIGN KEY (Store_id) REFERENCES STORES (Store_id) ON DELETE CASCADE')
    // .run('CREATE TABLE IF NOT EXISTS ORDERS (Order_id INTEGER PRIMARY KEY AUTOINCREMENT , Cust_id INTEGER , Order_status VARCHAR(30) , Order_date DATE ,Required_date DATE ,Shipped_date DATE ,Store_id INTEGER , Staff_id INTEGER , FOREIGN KEY (Cust_id) REFERENCES CUSTOMERS (Cust_id) ON DELETE CASCADE , FOREIGN KEY (Store_id) REFERENCES STORES (Store_id) ON DELETE CASCADE) ')
    // .run('CREATE TABLE IF NOT EXISTS Products ( Product_id INTEGER PRIMARY KEY , Product_name VARCHAR(30) ,Brand_name VARHAR(30) , Price SMALLMONEY )')
    // .run('CREATE TABLE IF NOT EXISTS ORDER_ITEMS (Order_id INTEGER , Item_id INTEGER ,Cust_id INTEGER , Product_id INTEGER , Quantity INTEGER , Price SMALLMONEY , PRIMARY KEY ( Order_id, Item_id ) ,FOREIGN KEY (Cust_id) REFERENCES CUSTOMERS (Cust_id) )');

